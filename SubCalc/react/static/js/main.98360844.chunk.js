(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},35:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(10),u=n(2),s=n(3),c=n(5),o=n(4),r=n(6),l=n(1),d=n(14),h=n(7);String.prototype.trim=function(){for(var e=this.replace(/^\s+/,""),t=e.length-1;t>=0;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);break}return e};var p=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(o.a)(t).call(this,e))).type="text",n.isPositiveInt=!1,n.originalValue="",n.defaultValue="",n.textFieldRef=a.createRef(),n.handleChange=function(){return function(e){switch(n.type){case"positive integer":var t=Number(e.currentTarget.value);t<0&&(t=0),n.setState({value:String(t)});break;case"text":n.setState({value:e.currentTarget.value})}}},n.handleKey=function(){return function(e){"Enter"===e.key&&n.props.onSave&&n.props.onSave(n.state.value.trim())}},n.focusOnWholeText=function(){return function(e){var t=e.currentTarget;setTimeout(function(){return t.setSelectionRange(0,9999)},0)}},n.isEmpty=function(e){var t=""==e;return"positive integer"==n.props.type&&(t=t||"0"==e),t},n.save=function(e){return function(t){n.props.onSave&&n.props.onSave(e.trim())}},n.componentDidMount=function(){var e=i.findDOMNode(n.textFieldRef.current);if(n.textFieldRef.current instanceof h.InputText&&null!=e)switch(n.type){case"text":case"positive integer":try{e.select()}catch(t){console.log("oops")}}},n.idPlus=function(e){return n.props.id?"".concat(n.props.id,"-").concat(e):void 0},n.type=void 0==n.props.type?"text":n.props.type,n.isPositiveInt="positive integer"==n.type,n.originalValue=void 0==n.props.value?"":n.props.value,n.defaultValue=void 0==n.props.defaultValue?"":n.props.defaultValue,n.state={value:n.originalValue},n}return Object(r.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.isEmpty(this.state.value)&&this.isEmpty(this.defaultValue)&&!this.props.allowEmpty,t=a.createElement(l.Button,{id:this.idPlus("save-button"),label:"Save",icon:"pi pi-check",disabled:e,onClick:this.save(this.state.value?this.state.value:this.defaultValue)}),n=this.isEmpty(this.originalValue)?a.createElement(a.Fragment,null):a.createElement(l.Button,{id:this.idPlus("cancel-button"),label:"Cancel",icon:"pi pi-times",className:"p-button-secondary",onClick:this.save(this.originalValue)}),i=a.createElement("span",null,t,n);return a.createElement("div",{className:"background-blocker"},a.createElement(d.Card,{id:this.idPlus("card"),className:"value-card ".concat(this.idPlus("card")),title:this.props.title,footer:i},this.props.description?a.createElement("p",null,this.props.description):a.createElement(a.Fragment,null),a.createElement(h.InputText,{id:this.idPlus("card-field"),className:this.isPositiveInt?"number":"text",keyfilter:this.isPositiveInt?"pint":"",type:"text",pattern:this.isPositiveInt?"\\d*":void 0,value:this.state.value,placeholder:this.defaultValue,onChange:this.handleChange(),onFocus:this.isPositiveInt?this.focusOnWholeText():void 0,onKeyUp:this.handleKey(),ref:this.textFieldRef})))}}]),t}(a.Component),m=(n(29),n(31),n(33),n(35),function e(t){Object(u.a)(this,e),this.id=void 0,this.name="",this.count=0,this.delegates=0,this.id=t}),f=n(16),g=n(15),v=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(o.a)(t).call(this,e))).subcaucus=void 0,n.handleName=function(){return function(e){var t=e.currentTarget.value;n.subcaucus.name=t.trim(),n.setState({name:t}),n.props.onChange&&n.props.onChange(n.subcaucus)}},n.handleCount=function(){return function(e){var t=Number(e.currentTarget.value);t<0&&(t=0),n.subcaucus.count=t,n.setState({count:t}),n.props.onChange&&n.props.onChange(n.subcaucus)}},n.handleKey=function(){return function(e){"Enter"===e.key&&n.props.onChange&&n.props.onChange(n.subcaucus,"enter")}},n.focusOnWholeText=function(){return function(e){var t=e.currentTarget;setTimeout(function(){return t.setSelectionRange(0,9999)},0)}},n.remove=function(){return function(e){n.props.onChange&&n.props.onChange(n.subcaucus,"remove")}},n.idPlus=function(e){return"subcaucus-".concat(n.subcaucus.id,"-").concat(e)},n.subcaucus=Object(f.a)({},n.props.subcaucus),n.state={id:n.subcaucus.id,name:n.subcaucus.name,count:n.subcaucus.count,delegates:n.subcaucus.delegates},n}return Object(r.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.count,i=e.delegates;return a.createElement("div",{id:this.idPlus("row"),className:"subcaucus-row"},a.createElement(l.Button,{id:this.idPlus("row-remove-button"),className:"subcaucus-remove-button p-button-danger",icon:"pi pi-minus"}),a.createElement(g.InputTextarea,{id:this.idPlus("row-name"),className:"subcaucus-field subcaucus-name",type:"text",value:t,rows:1,cols:1,placeholder:"Subcaucus ".concat(this.state.id),onChange:this.handleName(),onKeyUp:this.handleKey()}),a.createElement(h.InputText,{id:this.idPlus("row-count"),className:"subcaucus-field subcaucus-count",keyfilter:"pint",type:"text",pattern:"\\\\d*",value:n||"",placeholder:"\u2014",onChange:this.handleCount(),onFocus:this.focusOnWholeText(),onKeyUp:this.handleKey()}),a.createElement(l.Button,{id:this.idPlus("row-delegates"),className:"subcaucus-delegates-button ".concat(i>0?"has-delegates p-button-success":"p-button-secondary"),label:"".concat(i)}))}}]),t}(a.Component),b=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(o.a)(t).call(this,e)))._currentSubcaucusID=1,n.nextSubcaucusID=function(){return n._currentSubcaucusID++},n.defaultName=function(){return"Meeting on "+n.state.dateCreated.toLocaleDateString("en-US")},n.allowedString=function(){return"".concat(n.state.allowed," delegates to be elected")},n.handleChange=function(e){return function(t){switch(e){case"allowed":var a=Number(t.currentTarget.value);a<0&&(a=0),n.setState({allowed:a});break;case"name":n.setState({name:t.currentTarget.value})}}},n.focusOnWholeText=function(){return function(e){var t=e.currentTarget;setTimeout(function(){return t.setSelectionRange(0,9999)},0)}},n.state={name:"Debugging",allowed:10,dateCreated:new Date,changingName:!1,changingDelegates:!1,subcaucuses:[new m(n.nextSubcaucusID()),new m(n.nextSubcaucusID()),new m(n.nextSubcaucusID())]},n}return Object(r.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=a.createElement(a.Fragment,null);this.state.allowed&&!this.state.changingDelegates||(t=a.createElement(p,{id:"delegate-value",title:"Number of delegates allowed?",description:"Specify the number of delegates that your meeting or caucus is allowed to send on to the next level. This is the number of delegates to be elected by your meeting.",type:"positive integer",value:this.state.allowed.toString(),onSave:function(t){e.setState({allowed:Number(t),changingDelegates:!1})}})),(""==this.state.name||this.state.changingName)&&(t=a.createElement(p,{id:"name-value",title:"What is the name of your meeting?",description:'Most meetings have a name, like the "Ward 4 Precinct 7 Caucus" or the "Saint Paul City Convention". Specify the name of your meeting here.',value:this.state.name?this.state.name:this.defaultName(),defaultValue:this.defaultName(),onSave:function(t){e.setState({name:t,changingName:!1})}}));var n=this.state.subcaucuses.map(function(e,t,n){return a.createElement(v,{subcaucus:e})});return a.createElement("div",{id:"app"},a.createElement("div",{id:"app-content"},a.createElement("div",{id:"app-header"},a.createElement("p",null,a.createElement("strong",null,"Minnesota DFL Subcaucus Calculator"))),a.createElement("div",{id:"meeting-info"},a.createElement(l.Button,{id:"meeting-name",label:this.state.name?this.state.name:this.defaultName(),onClick:function(t){e.setState({changingName:!0})}}),a.createElement(l.Button,{id:"delegates-allowed",label:this.allowedString(),onClick:function(t){e.setState({changingDelegates:!0})}})),a.createElement("div",{id:"subcaucus-container"},a.createElement("div",{id:"subcaucus-header"},a.createElement(l.Button,{id:"subcaucus-management-head",label:"\xa0",disabled:!0}),a.createElement(l.Button,{id:"subcaucus-name-head",label:"Subcaucus",icon:"pi pi-circle-off"}),a.createElement(l.Button,{id:"subcaucus-count-head",label:"Count",iconPos:"right",icon:"pi pi-circle-off"}),a.createElement(l.Button,{id:"subcaucus-delegate-head",label:"Del"})),a.createElement("div",{id:"subcaucus-list"},n),a.createElement(l.Button,{id:"add-subcaucus-button",label:"Add a Subcaucus",icon:"pi pi-plus"})),t))}}]),t}(a.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(38);i.render(a.createElement(b,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");w?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):y(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):y(e)})}}()}},[[17,2,1]]]);
//# sourceMappingURL=main.98360844.chunk.js.map